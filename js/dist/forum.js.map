{"version":3,"file":"forum.js","mappings":"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","sources":["webpack://@dhtml/cpages/webpack/bootstrap","webpack://@dhtml/cpages/webpack/runtime/compat get default export","webpack://@dhtml/cpages/webpack/runtime/define property getters","webpack://@dhtml/cpages/webpack/runtime/hasOwnProperty shorthand","webpack://@dhtml/cpages/external root \"flarum.core.compat['common/app']\"","webpack://@dhtml/cpages/./src/common/index.ts","webpack://@dhtml/cpages/external root \"flarum.core.compat['forum/app']\"","webpack://@dhtml/cpages/external root \"flarum.core.compat['common/extend']\"","webpack://@dhtml/cpages/external root \"flarum.core.compat['forum/components/IndexPage']\"","webpack://@dhtml/cpages/external root \"flarum.core.compat['common/components/Separator']\"","webpack://@dhtml/cpages/external root \"flarum.core.compat['common/components/LinkButton']\"","webpack://@dhtml/cpages/./src/forum/addSideBar.js","webpack://@dhtml/cpages/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://@dhtml/cpages/external root \"flarum.core.compat['common/components/LoadingIndicator']\"","webpack://@dhtml/cpages/external root \"flarum.core.compat['common/helpers/listItems']\"","webpack://@dhtml/cpages/external root \"flarum.core.compat['common/components/Page']\"","webpack://@dhtml/cpages/./src/forum/components/PageLoader.js","webpack://@dhtml/cpages/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@dhtml/cpages/external root \"flarum.core.compat['extend']\"","webpack://@dhtml/cpages/./src/common/ObjectStore.js","webpack://@dhtml/cpages/./src/forum/index.ts","webpack://@dhtml/cpages/./src/forum/addInfinityScroller.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/app'];","import app from 'flarum/common/app';\n\napp.initializers.add('dhtml/cpages', () => {\n  //console.log('[dhtml/cpages] Hello, forum and admin!');\n});\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/app'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/extend'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/IndexPage'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Separator'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/LinkButton'];","import { extend } from 'flarum/common/extend';\nimport IndexPage from 'flarum/forum/components/IndexPage';\nimport Separator from 'flarum/common/components/Separator';\nimport LinkButton from 'flarum/common/components/LinkButton';\n\nimport app from 'flarum/forum/app';\n\nexport default function (items,data) {\n    console.log({data});\n\n    const priority = 0;\n\n    items.add(\n      'customLink-1',\n      <LinkButton external={false} href={'/tags'} rel=\"noopener noreferrer\" icon='fas fa-th-large'>\n        {app.translator.trans('dhtml-cpages.forum.tags-cloud')}\n      </LinkButton>,\n      priority\n    );\n\n    items.add(\n      'customLink-3',\n      <LinkButton external={false} href={'/leaderboard'} rel=\"noopener noreferrer\" icon='fas fa-trophy'>\n        {app.translator.trans('dhtml-cpages.forum.leaderboard')}\n      </LinkButton>,\n      priority\n    );\n\n    items.add(\n      'customLink-2',\n      <LinkButton external={true} target='_blank' href={'https://d.afr.ng'} rel=\"noopener noreferrer\" icon='fab fa-discord'>\n        {app.translator.trans('dhtml-cpages.forum.discord-chat')}\n      </LinkButton>,\n      priority\n    );\n\n    items.add(\n      'customSeparator-1',\n      <li className=\"Dropdown-separator\"></li>,\n      -14\n    );\n\n\n    items.add(\n      'dhtml-sidebar-membership-1a',\n      <LinkButton external={false} icon=\"fas fa-graduation-cap\" href={'/t/live'}>\n        {app.translator.trans('dhtml-cpages.forum.live')}\n      </LinkButton>,\n      -14\n    );\n\n    items.add(\n      'dhtml-sidebar-membership-1b',\n      <LinkButton external={false} icon=\"fas fa-briefcase\" href={'/t/jobs'}>\n        {app.translator.trans('dhtml-cpages.forum.jobs')}\n      </LinkButton>,\n      -14\n    );\n\n    items.add(\n      'dhtml-sidebar-membership-1c',\n      <LinkButton external={false} icon=\"fas fa-chalkboard-teacher\" href={'/t/events'}>\n        {app.translator.trans('dhtml-cpages.forum.events')}\n      </LinkButton>,\n      -14\n    );\n\n    items.add(\n      'dhtml-sidebar-membership-2',\n      <LinkButton external={false} icon=\"fas fa-tools\" href={'/t/workshops'}>\n        {app.translator.trans('dhtml-cpages.forum.workshops')}\n      </LinkButton>,\n      -14\n    );\n\n    items.add(\n      'dhtml-sidebar-membership-3',\n      <LinkButton external={false} icon=\"fas fa-flag-checkered\" href={'/t/challenges'}>\n        {app.translator.trans('dhtml-cpages.forum.challenges')}\n      </LinkButton>,\n      -14\n    );\n\n\n    items.add(\n      'dhtml-sidebar-membership-7',\n      <LinkButton external={false} icon=\"fas fa-tv\" href={'/t/showcase'}>\n        {app.translator.trans('dhtml-cpages.forum.showcase')}\n      </LinkButton>,\n      -14\n    );\n\n    items.add(\n      'dhtml-sidebar-membership-8',\n      <LinkButton external={false} icon=\"fas fa-question-circle\" href={'/t/questions-and-answers'}>\n        {app.translator.trans('dhtml-cpages.forum.q-a')}\n      </LinkButton>,\n      -14\n    );\n\n    items.add(\n      'dhtml-sidebar-membership-90',\n      <LinkButton external={false} icon=\"fas fa-users\" href={'/t/community'}>\n        {app.translator.trans('dhtml-cpages.forum.community')}\n      </LinkButton>,\n      -14\n    );\n\n\n    items.add(\n      'customSeparator-3',\n      <li className=\"Dropdown-separator\"></li>,\n      -14\n    );\n\n    items.add(\n      'dhtml-sidebar-about',\n      <LinkButton external={false} icon=\"fas fa-info-circle\" href={'/about-us'}>\n        {app.translator.trans('dhtml-cpages.forum.about-us')}\n      </LinkButton>,\n      -14\n    );\n\n    items.add(\n      'dhtml-sidebar-guideline',\n      <LinkButton external={false} icon=\"fas fa-book\" href={'/guidelines'}>\n        {app.translator.trans('dhtml-cpages.forum.guidelines')}\n      </LinkButton>,\n      -14\n    );\n\n    items.add(\n      'dhtml-sidebar-privacy',\n      <LinkButton external={false} icon=\"fas fa-user-secret\" href={'/privacy-policy'}>\n        {app.translator.trans('dhtml-cpages.forum.privacy-policy')}\n      </LinkButton>,\n      -14\n    );\n\n\n    items.add(\n      'dhtml-sidebar-terms',\n      <LinkButton external={false} icon=\"fas fa-file-contract\" href={'/terms'}>\n        {app.translator.trans('dhtml-cpages.forum.terms-of-use')}\n      </LinkButton>,\n      -14\n    );\n\n\n    items.add(\n      'dhtml-sidebar-contact',\n      <LinkButton icon=\"fas fa-at\" href={'/contact-us'}>\n        {app.translator.trans('dhtml-cpages.forum.contact-us')}\n      </LinkButton>,\n      -14\n    );\n\n\n    items.add(\n      'dhtml-sidebar-download',\n      <LinkButton external={false} icon=\"fas fa-download\" href={'/download'}>\n        {app.translator.trans('dhtml-cpages.forum.download-app')}\n      </LinkButton>,\n      -14\n    );\n\n    const CustomFooter = () => {\n      const currentYear = new Date().getFullYear();\n\n      return (\n        <span className=\"CustomSidebarFooter\">\n      © Africoders {currentYear}\n    </span>\n      );\n    }\n\n    items.add('custom-sidebar', CustomFooter(), -14);\n}\n","function _setPrototypeOf(t, e) {\n  return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {\n    return t.__proto__ = e, t;\n  }, _setPrototypeOf(t, e);\n}\nexport { _setPrototypeOf as default };","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/LoadingIndicator'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/helpers/listItems'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Page'];","import app from 'flarum/forum/app';\nimport LoadingIndicator from 'flarum/common/components/LoadingIndicator';\nimport IndexPage from 'flarum/forum/components/IndexPage';\nimport listItems from 'flarum/common/helpers/listItems';\nimport Page from 'flarum/common/components/Page';\n\nexport default class PageLoader extends Page {\n  oninit(vnode) {\n    super.oninit(vnode);\n    this.slug = vnode.attrs.routeName;\n    this.page = null;\n\n    this.loading = true;\n\n    this.pageContent = null;\n\n    this.loadPage();\n  }\n\n  /**\n   * Initialize page.\n   *\n   * @param {fof/pages/models/Page} page\n   * @protected\n   */\n  show(page) {\n    this.page = page;\n\n    //app.history.push('page', page.title);\n    app.setTitle(page.title);\n\n    //set the content\n    this.pageContent = page.content;\n\n    m.redraw();\n  }\n\n  loadPage() {\n    app.request({\n      method: 'GET',\n      url: app.forum.attribute(\"apiUrl\") + '/cpage/' + this.slug,\n    }).then(response => {\n      this.show(response.data.attributes);\n    });\n  }\n\n  renderPage() {\n    if(!this.loading) {\n      return LoadingIndicator.component({ className: 'LoadingIndicator--block' })\n    } else {\n     return (m(\"div.ContentPages\",  m.trust(this.pageContent)));\n    }\n    /*\n    return m(\".IndexPage\", [\n      IndexPage.prototype.hero(),\n      m(\n        \".container\",\n        m(\n          \".IndexPage-results.sideNavOffset\",\n          m(\"div.ContentPages\",  m.trust(this.pageContent)),\n        ),\n      ),\n    ]);\n     */\n  }\n\n  view() {\n\n    return (\n      <div className=\"IndexPage\">\n        {IndexPage.prototype.hero()}\n        <div className=\"container\">\n          <div className=\"sideNavContainer\">\n            <nav className=\"IndexPage-nav sideNav\">\n              <ul>{listItems(IndexPage.prototype.sidebarItems().toArray())}</ul>\n            </nav>\n            <div className=\"IndexPage-results sideNavOffset\">\n\n              {this.renderPage()}\n\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import setPrototypeOf from \"./setPrototypeOf.js\";\nfunction _inheritsLoose(t, o) {\n  t.prototype = Object.create(o.prototype), t.prototype.constructor = t, setPrototypeOf(t, o);\n}\nexport { _inheritsLoose as default };","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['extend'];","export class ObjectStore {\n  items = null;\n  data = null;\n\n  setItems(items) {\n    this.items = items;\n  }\n\n  setData(data) {\n    this.data = data;\n  }\n\n  getItems() {\n    return this.items;\n  }\n\n  getData() {\n    return this.data;\n  }\n\n}\n","import app from 'flarum/forum/app';\nimport addSideBar from \"./addSideBar\";\nimport addInfinityScroller from \"./addInfinityScroller\";\nimport PageLoader from \"./components/PageLoader\";\nimport { extend } from 'flarum/extend';\nimport IndexPage from 'flarum/forum/components/IndexPage';\nimport {ObjectStore} from \"../common/ObjectStore\";\n\nimport addTopBar from \"./addTopBar\";\n\napp.initializers.add('dhtml/cpages', () => {\n\n  const store = new ObjectStore();\n\n  extend(IndexPage.prototype, 'sidebarItems', function (items:any) {\n\n    store.setItems(items);\n    var data = store.getData();\n\n    if(data) {\n      console.log('get sidebar from cache');\n      addSideBar(store.getItems(),data);\n    } else {\n      app.request({\n        method: 'GET',\n        url: app.forum.attribute(\"apiUrl\") + '/cpages-data',\n      }).then((response: { data: { attributes: any; }; }) => {\n        console.log('get sidebar from api');\n        data = response.data.attributes;\n        store.setData(data);\n        addSideBar(store.getItems(),data);\n      });\n    }\n\n  });\n\n\n    const slugs = [\n    'contact-us',\n    'about-us',\n    'privacy-policy',\n    'terms',\n    'guidelines',\n    'download'\n  ];\n\n  slugs.forEach(slug => {\n    app.routes[slug] = { path: `/${slug}`, component: PageLoader, resolveComponent: () => PageLoader.extend({ slug }) };\n  });\n\n\n  //addTopBar();\n  //addSideBar();\n\n  addInfinityScroller();\n});\n","export default function () {\n\n  const multiplier = 1.75\n\n  function loadMoreIfNeeded() {\n    const distanceToBottom = -(\n      (document.body.scrollHeight || document.documentElement.scrollHeight) -\n      (document.body.scrollTop ||\n        document.documentElement.scrollTop +\n        document.documentElement.clientHeight)\n    );\n\n    if (distanceToBottom > document.documentElement.clientHeight * multiplier) return;\n\n    $(\".DiscussionList-loadMore button\").click();\n  }\n\n  document.addEventListener(\"scroll\", loadMoreIfNeeded, { passive: true });\n}\n"],"names":["__webpack_require__","module","getter","__esModule","d","a","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","flarum","core","compat","app","add","items","data","currentYear","console","log","m","LinkButton","external","href","rel","icon","trans","target","className","Date","getFullYear","_setPrototypeOf","t","e","setPrototypeOf","bind","__proto__","PageLoader","_Page","apply","arguments","create","constructor","_proto","oninit","vnode","this","slug","attrs","routeName","page","loading","pageContent","loadPage","show","title","content","redraw","_this","method","url","attribute","then","response","attributes","renderPage","trust","LoadingIndicator","view","IndexPage","hero","listItems","sidebarItems","toArray","Page","ObjectStore","setItems","setData","getItems","getData","store","extend","addSideBar","forEach","path","component","resolveComponent","document","addEventListener","body","scrollHeight","documentElement","scrollTop","clientHeight","$","click","passive"],"sourceRoot":""}